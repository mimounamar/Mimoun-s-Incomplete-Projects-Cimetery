{"ast":null,"code":"import getSessionFromDb from \"../api/getSessionFromDb\";\nimport getUserFromDb from \"../api/getUserFromDb\";\nimport { useNavigate } from \"react-router-dom\";\nlet navigate = useNavigate();\n\nfunction redirectUser() {\n  const sessionId = sessionStorage.getItem('sessionId');\n\n  if (sessionId) {\n    getSessionFromDb(sessionId).then(response => {\n      getUserFromDb(response.data.google_id).then(userResponse => {\n        userResponse.data.verified ? navigate(\"/dashboard\", {\n          replace: true\n        }) : navigate(\"/CGU\", {\n          replace: true\n        });\n      });\n    });\n  }\n}\n\nexport default redirectUser;","map":{"version":3,"names":["getSessionFromDb","getUserFromDb","useNavigate","navigate","redirectUser","sessionId","sessionStorage","getItem","then","response","data","google_id","userResponse","verified","replace"],"sources":["/Users/mimoun/WebstormProjects/leontools-frontend/src/helpers/redirectUser.js"],"sourcesContent":["import getSessionFromDb from \"../api/getSessionFromDb\";\nimport getUserFromDb from \"../api/getUserFromDb\";\nimport {useNavigate} from \"react-router-dom\";\n\nlet navigate = useNavigate()\n\nfunction redirectUser(){\n    const sessionId = sessionStorage.getItem('sessionId')\n    if(sessionId){\n        getSessionFromDb(sessionId).then(response => {\n            getUserFromDb(response.data.google_id).then(userResponse => {\n                userResponse.data.verified ? navigate(\"/dashboard\", { replace: true }) : navigate(\"/CGU\", { replace: true })\n            })\n        })\n    }\n\n}\n\nexport default redirectUser;"],"mappings":"AAAA,OAAOA,gBAAP,MAA6B,yBAA7B;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AAEA,IAAIC,QAAQ,GAAGD,WAAW,EAA1B;;AAEA,SAASE,YAAT,GAAuB;EACnB,MAAMC,SAAS,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAlB;;EACA,IAAGF,SAAH,EAAa;IACTL,gBAAgB,CAACK,SAAD,CAAhB,CAA4BG,IAA5B,CAAiCC,QAAQ,IAAI;MACzCR,aAAa,CAACQ,QAAQ,CAACC,IAAT,CAAcC,SAAf,CAAb,CAAuCH,IAAvC,CAA4CI,YAAY,IAAI;QACxDA,YAAY,CAACF,IAAb,CAAkBG,QAAlB,GAA6BV,QAAQ,CAAC,YAAD,EAAe;UAAEW,OAAO,EAAE;QAAX,CAAf,CAArC,GAAyEX,QAAQ,CAAC,MAAD,EAAS;UAAEW,OAAO,EAAE;QAAX,CAAT,CAAjF;MACH,CAFD;IAGH,CAJD;EAKH;AAEJ;;AAED,eAAeV,YAAf"},"metadata":{},"sourceType":"module"}