{"ast":null,"code":"import React, { Component } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport getSessionFromDb from \"../api/getSessionFromDb\";\nimport getUserFromDb from \"../api/getUserFromDb\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet navigate = useNavigate();\nconst sessionId = sessionStorage.getItem('sessionId');\n\nif (sessionId) {\n  getSessionFromDb(sessionId).then(response => {\n    getUserFromDb(response.data.google_id).then(userResponse => {\n      userResponse.data.verified ? navigate(\"/dashboard\", {\n        replace: true\n      }) : navigate(\"/CGU\", {\n        replace: true\n      });\n    });\n  });\n}\n\nclass RedirectUser extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n\n}\n\nexport default RedirectUser;","map":{"version":3,"names":["React","Component","useNavigate","getSessionFromDb","getUserFromDb","navigate","sessionId","sessionStorage","getItem","then","response","data","google_id","userResponse","verified","replace","RedirectUser","render"],"sources":["/Users/mimoun/WebstormProjects/leontools-frontend/src/helpers/redirectUser.js"],"sourcesContent":["import React, {Component} from 'react';\nimport {useNavigate} from \"react-router-dom\";\nimport getSessionFromDb from \"../api/getSessionFromDb\";\nimport getUserFromDb from \"../api/getUserFromDb\";\n\nlet navigate = useNavigate()\n\nconst sessionId = sessionStorage.getItem('sessionId')\nif(sessionId){\n    getSessionFromDb(sessionId).then(response => {\n        getUserFromDb(response.data.google_id).then(userResponse => {\n            userResponse.data.verified ? navigate(\"/dashboard\", { replace: true }) : navigate(\"/CGU\", { replace: true })\n        })\n    })\n}\n\nclass RedirectUser extends Component {\n\n\n    render() {\n        return (\n            <>\n            </>\n        );\n    }\n}\n\nexport default RedirectUser;"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,OAAOC,aAAP,MAA0B,sBAA1B;;;AAEA,IAAIC,QAAQ,GAAGH,WAAW,EAA1B;AAEA,MAAMI,SAAS,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAlB;;AACA,IAAGF,SAAH,EAAa;EACTH,gBAAgB,CAACG,SAAD,CAAhB,CAA4BG,IAA5B,CAAiCC,QAAQ,IAAI;IACzCN,aAAa,CAACM,QAAQ,CAACC,IAAT,CAAcC,SAAf,CAAb,CAAuCH,IAAvC,CAA4CI,YAAY,IAAI;MACxDA,YAAY,CAACF,IAAb,CAAkBG,QAAlB,GAA6BT,QAAQ,CAAC,YAAD,EAAe;QAAEU,OAAO,EAAE;MAAX,CAAf,CAArC,GAAyEV,QAAQ,CAAC,MAAD,EAAS;QAAEU,OAAO,EAAE;MAAX,CAAT,CAAjF;IACH,CAFD;EAGH,CAJD;AAKH;;AAED,MAAMC,YAAN,SAA2Bf,SAA3B,CAAqC;EAGjCgB,MAAM,GAAG;IACL,oBACI,qCADJ;EAIH;;AARgC;;AAWrC,eAAeD,YAAf"},"metadata":{},"sourceType":"module"}