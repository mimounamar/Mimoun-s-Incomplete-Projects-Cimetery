{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useNavigate } from \"react-router-dom\";\nimport getSessionFromDb from \"../api/getSessionFromDb\";\nimport getUserFromDb from \"../api/getUserFromDb\";\n\nfunction redirectUser() {\n  _s();\n\n  let navigate = useNavigate();\n  const sessionId = sessionStorage.getItem('sessionId');\n\n  if (sessionId) {\n    getSessionFromDb(sessionId).then(response => {\n      getUserFromDb(response.data.google_id).then(userResponse => {\n        userResponse.data.verified ? navigate(\"/dashboard\", {\n          replace: true\n        }) : navigate(\"/CGU\", {\n          replace: true\n        });\n      });\n    });\n  }\n}\n\n_s(redirectUser, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\nexport default redirectUser();","map":{"version":3,"names":["useNavigate","getSessionFromDb","getUserFromDb","redirectUser","navigate","sessionId","sessionStorage","getItem","then","response","data","google_id","userResponse","verified","replace"],"sources":["/Users/mimoun/WebstormProjects/leontools-frontend/src/helpers/redirectUser.js"],"sourcesContent":["import {useNavigate} from \"react-router-dom\";\nimport getSessionFromDb from \"../api/getSessionFromDb\";\nimport getUserFromDb from \"../api/getUserFromDb\";\n\nfunction redirectUser() {\n    let navigate = useNavigate()\n\n    const sessionId = sessionStorage.getItem('sessionId')\n    if(sessionId){\n        getSessionFromDb(sessionId).then(response => {\n            getUserFromDb(response.data.google_id).then(userResponse => {\n                userResponse.data.verified ? navigate(\"/dashboard\", { replace: true }) : navigate(\"/CGU\", { replace: true })\n            })\n        })\n    }\n}\n\nexport default redirectUser()"],"mappings":";;AAAA,SAAQA,WAAR,QAA0B,kBAA1B;AACA,OAAOC,gBAAP,MAA6B,yBAA7B;AACA,OAAOC,aAAP,MAA0B,sBAA1B;;AAEA,SAASC,YAAT,GAAwB;EAAA;;EACpB,IAAIC,QAAQ,GAAGJ,WAAW,EAA1B;EAEA,MAAMK,SAAS,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAlB;;EACA,IAAGF,SAAH,EAAa;IACTJ,gBAAgB,CAACI,SAAD,CAAhB,CAA4BG,IAA5B,CAAiCC,QAAQ,IAAI;MACzCP,aAAa,CAACO,QAAQ,CAACC,IAAT,CAAcC,SAAf,CAAb,CAAuCH,IAAvC,CAA4CI,YAAY,IAAI;QACxDA,YAAY,CAACF,IAAb,CAAkBG,QAAlB,GAA6BT,QAAQ,CAAC,YAAD,EAAe;UAAEU,OAAO,EAAE;QAAX,CAAf,CAArC,GAAyEV,QAAQ,CAAC,MAAD,EAAS;UAAEU,OAAO,EAAE;QAAX,CAAT,CAAjF;MACH,CAFD;IAGH,CAJD;EAKH;AACJ;;GAXQX,Y;UACUH,W;;;AAYnB,eAAeG,YAAY,EAA3B"},"metadata":{},"sourceType":"module"}