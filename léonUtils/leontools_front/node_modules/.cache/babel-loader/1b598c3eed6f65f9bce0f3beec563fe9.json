{"ast":null,"code":"import _slicedToArray from\"/Users/mimoun/WebstormProjects/leontools-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mimoun/WebstormProjects/leontools-frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useEffect,useState}from'react';import styled from\"styled-components\";import homeIcon from'../assets/icon_home.png';import'bootstrap-icons/font/bootstrap-icons.css';import jwtDecode from\"jwt-decode\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n      display: flex;\\n      height: 100%;\\n      width: 100%;\\n      @media screen and (max-width: 767px) {\\n        flex-direction: column;\\n      }\\n    \"])));var PictureContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n      position: relative;\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      background-color: #D2E5DC;\\n      height: 100%;\\n      width: 65%;\\n      border-bottom-right-radius: 15px;\\n      border-top-right-radius: 15px;\\n      @media screen and (max-width: 767px) {\\n        height: 65%;\\n        width: 100%;\\n        border-bottom-right-radius: 12px;\\n        border-bottom-left-radius: 12px;\\n        border-top-right-radius: 0;\\n      }\\n    \"])));var LoginPicture=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n      position: absolute;\\n      object-fit: cover;\\n      max-width: 85%;\\n      max-height: 100%;\\n      margin: 0;\\n    \"])));var LoginContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n      display: flex;\\n      flex-direction: column;\\n      height: 100%;\\n      width: 35%;\\n      justify-content: center;\\n      align-items: center;\\n      @media screen and (max-width: 767px) {\\n        height: 35%;\\n        width: 100%;\\n      }\\n    \"])));var LoginTitle=styled.h1(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n      text-align: center;\\n      font-family: Gilroy;\\n      font-weight: bold;\\n      font-size: 1.25em;\\n      color: #0A6466;\\n    \"])));var ErrorWrapper=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n      display: none;\\n      font-family: Gilroy;\\n      margin-bottom: 1rem;\\n      font-size: 0.9em;\\n      color: #842029;\\n      background-color: #f8d7da;\\n      border: 1px solid #f5c2c7;\\n      padding: 0.5rem;\\n      border-radius: 5px;\\n      max-width: 85%;\\n    \"])));function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorString=_useState2[0],setErrorString=_useState2[1];function verifyUserValidity(response){var userObject=jwtDecode(response.credential);var userMail=userObject.email;var userDomain=userMail.split(\"@\")[1];if(userDomain!==(\"leonafricain.ma\"||\"elbilia.ma\")){setErrorString(\"Veuillez utiliser votre adresse mail professionnelle\");document.getElementById(\"error-wrapper\").style.display=\"block\";}else{setErrorString(\"\");document.getElementById(\"error-wrapper\").style.display=\"none\";}}useEffect(function(){/*global google*/google.accounts.id.initialize({client_id:\"518591411336-6r7hes5r15e658cieinangeh7f39ctsb.apps.googleusercontent.com\",callback:verifyUserValidity});google.accounts.id.renderButton(document.getElementById(\"signInDiv\"),{theme:\"outline\",size:\"large\"});},[]);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(PictureContainer,{children:/*#__PURE__*/_jsx(LoginPicture,{src:homeIcon})}),/*#__PURE__*/_jsxs(LoginContainer,{children:[/*#__PURE__*/_jsx(LoginTitle,{children:\"Connectez vous en utilisant Google\"}),/*#__PURE__*/_jsxs(ErrorWrapper,{id:\"error-wrapper\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle\",children:\" \"}),errorString]}),/*#__PURE__*/_jsx(\"div\",{id:\"signInDiv\"})]})]});}export default Login;","map":{"version":3,"names":["React","useEffect","useState","styled","homeIcon","jwtDecode","Wrapper","div","PictureContainer","LoginPicture","img","LoginContainer","LoginTitle","h1","ErrorWrapper","Login","errorString","setErrorString","verifyUserValidity","response","userObject","credential","userMail","email","userDomain","split","document","getElementById","style","display","google","accounts","id","initialize","client_id","callback","renderButton","theme","size"],"sources":["/Users/mimoun/WebstormProjects/leontools-frontend/src/apps/Login.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport styled from \"styled-components\";\nimport homeIcon from '../assets/icon_home.png'\nimport 'bootstrap-icons/font/bootstrap-icons.css'\nimport jwtDecode from \"jwt-decode\";\n\nconst Wrapper = styled.div`\n      display: flex;\n      height: 100%;\n      width: 100%;\n      @media screen and (max-width: 767px) {\n        flex-direction: column;\n      }\n    `;\n\nconst PictureContainer = styled.div`\n      position: relative;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: #D2E5DC;\n      height: 100%;\n      width: 65%;\n      border-bottom-right-radius: 15px;\n      border-top-right-radius: 15px;\n      @media screen and (max-width: 767px) {\n        height: 65%;\n        width: 100%;\n        border-bottom-right-radius: 12px;\n        border-bottom-left-radius: 12px;\n        border-top-right-radius: 0;\n      }\n    `;\n\nconst LoginPicture = styled.img`\n      position: absolute;\n      object-fit: cover;\n      max-width: 85%;\n      max-height: 100%;\n      margin: 0;\n    `;\n\nconst LoginContainer = styled.div`\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 35%;\n      justify-content: center;\n      align-items: center;\n      @media screen and (max-width: 767px) {\n        height: 35%;\n        width: 100%;\n      }\n    `;\n\nconst LoginTitle = styled.h1`\n      text-align: center;\n      font-family: Gilroy;\n      font-weight: bold;\n      font-size: 1.25em;\n      color: #0A6466;\n    `;\n\nconst ErrorWrapper = styled.div`\n      display: none;\n      font-family: Gilroy;\n      margin-bottom: 1rem;\n      font-size: 0.9em;\n      color: #842029;\n      background-color: #f8d7da;\n      border: 1px solid #f5c2c7;\n      padding: 0.5rem;\n      border-radius: 5px;\n      max-width: 85%;\n    `;\n\nfunction Login() {\n\n    const [errorString, setErrorString] = useState(\"\")\n\n    function verifyUserValidity(response){\n        const userObject = jwtDecode(response.credential);\n        const userMail = userObject.email;\n        const userDomain = userMail.split(\"@\")[1];\n        if (userDomain !== (\"leonafricain.ma\" || \"elbilia.ma\")){\n            setErrorString(\"Veuillez utiliser votre adresse mail professionnelle\");\n            document.getElementById(\"error-wrapper\").style.display = \"block\";\n        }\n        else{\n            setErrorString(\"\");\n            document.getElementById(\"error-wrapper\").style.display = \"none\";\n        }\n    }\n\n    useEffect(() => {\n        /*global google*/\n        google.accounts.id.initialize({\n            client_id: \"518591411336-6r7hes5r15e658cieinangeh7f39ctsb.apps.googleusercontent.com\",\n            callback: verifyUserValidity\n        });\n        google.accounts.id.renderButton(\n            document.getElementById(\"signInDiv\"),\n            {theme:\"outline\", size:\"large\"}\n        );\n    },[]);\n\n    return (\n        <Wrapper>\n            <PictureContainer>\n                <LoginPicture src={homeIcon}></LoginPicture>\n            </PictureContainer>\n\n            <LoginContainer>\n                <LoginTitle>Connectez vous en utilisant Google</LoginTitle>\n                <ErrorWrapper id=\"error-wrapper\">\n                    <i className=\"bi bi-exclamation-triangle\"> </i>\n                    {errorString}\n                </ErrorWrapper>\n                <div id=\"signInDiv\"></div>\n            </LoginContainer>\n        </Wrapper>\n    );\n}\n\nexport default Login;"],"mappings":"uYAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,SAAP,KAAqB,yBAArB,CACA,MAAO,0CAAP,CACA,MAAOC,UAAP,KAAsB,YAAtB,C,wFAEA,GAAMC,QAAO,CAAGH,MAAM,CAACI,GAAV,8NAAb,CASA,GAAMC,iBAAgB,CAAGL,MAAM,CAACI,GAAV,4iBAAtB,CAmBA,GAAME,aAAY,CAAGN,MAAM,CAACO,GAAV,gMAAlB,CAQA,GAAMC,eAAc,CAAGR,MAAM,CAACI,GAAV,qUAApB,CAaA,GAAMK,WAAU,CAAGT,MAAM,CAACU,EAAV,2MAAhB,CAQA,GAAMC,aAAY,CAAGX,MAAM,CAACI,GAAV,qVAAlB,CAaA,QAASQ,MAAT,EAAiB,CAEb,cAAsCb,QAAQ,CAAC,EAAD,CAA9C,wCAAOc,WAAP,eAAoBC,cAApB,eAEA,QAASC,mBAAT,CAA4BC,QAA5B,CAAqC,CACjC,GAAMC,WAAU,CAAGf,SAAS,CAACc,QAAQ,CAACE,UAAV,CAA5B,CACA,GAAMC,SAAQ,CAAGF,UAAU,CAACG,KAA5B,CACA,GAAMC,WAAU,CAAGF,QAAQ,CAACG,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAnB,CACA,GAAID,UAAU,IAAM,mBAAqB,YAA3B,CAAd,CAAuD,CACnDP,cAAc,CAAC,sDAAD,CAAd,CACAS,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,CAA+CC,OAA/C,CAAyD,OAAzD,CACH,CAHD,IAII,CACAZ,cAAc,CAAC,EAAD,CAAd,CACAS,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,KAAzC,CAA+CC,OAA/C,CAAyD,MAAzD,CACH,CACJ,CAED5B,SAAS,CAAC,UAAM,CACZ,iBACA6B,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBC,UAAnB,CAA8B,CAC1BC,SAAS,CAAE,0EADe,CAE1BC,QAAQ,CAAEjB,kBAFgB,CAA9B,EAIAY,MAAM,CAACC,QAAP,CAAgBC,EAAhB,CAAmBI,YAAnB,CACIV,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CADJ,CAEI,CAACU,KAAK,CAAC,SAAP,CAAkBC,IAAI,CAAC,OAAvB,CAFJ,EAIH,CAVQ,CAUP,EAVO,CAAT,CAYA,mBACI,MAAC,OAAD,yBACI,KAAC,gBAAD,wBACI,KAAC,YAAD,EAAc,GAAG,CAAElC,QAAnB,EADJ,EADJ,cAKI,MAAC,cAAD,yBACI,KAAC,UAAD,iDADJ,cAEI,MAAC,YAAD,EAAc,EAAE,CAAC,eAAjB,wBACI,UAAG,SAAS,CAAC,4BAAb,eADJ,CAEKY,WAFL,GAFJ,cAMI,YAAK,EAAE,CAAC,WAAR,EANJ,GALJ,GADJ,CAgBH,CAED,cAAeD,MAAf"},"metadata":{},"sourceType":"module"}