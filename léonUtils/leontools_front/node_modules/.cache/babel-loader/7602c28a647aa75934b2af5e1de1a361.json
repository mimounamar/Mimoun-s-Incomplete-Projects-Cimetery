{"ast":null,"code":"var _jsxFileName = \"/Users/mimoun/WebstormProjects/leontools-frontend/src/apps/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from \"styled-components\";\nimport homeIcon from '../assets/icon_home.png';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport jwtDecode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`\n      display: flex;\n      height: 100%;\n      width: 100%;\n      @media screen and (max-width: 767px) {\n        flex-direction: column;\n      }\n    `;\n_c = Wrapper;\nconst PictureContainer = styled.div`\n      position: relative;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: #D2E5DC;\n      height: 100%;\n      width: 65%;\n      border-bottom-right-radius: 12px;\n      border-top-right-radius: 12px;\n      @media screen and (max-width: 767px) {\n        height: 65%;\n        width: 100%;\n        border-bottom-right-radius: 12px;\n        border-bottom-left-radius: 12px;\n        border-top-right-radius: 0px;\n      }\n    `;\n_c2 = PictureContainer;\nconst LoginPicture = styled.img`\n      position: absolute;\n      object-fit: cover;\n      max-width: 85%;\n      max-height: 100%;\n      margin: 0;\n    `;\n_c3 = LoginPicture;\nconst LoginContainer = styled.div`\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 35%;\n      justify-content: center;\n      align-items: center;\n      @media screen and (max-width: 767px) {\n        height: 35%;\n        width: 100%;\n      }\n    `;\n_c4 = LoginContainer;\nconst LoginTitle = styled.h1`\n      font-family: Gilroy;\n      font-weight: bold;\n      font-size: 1.25em;\n      color: #0A6466;\n    `;\n_c5 = LoginTitle;\nconst ErrorWrapper = styled.div`\n      display: none;\n      font-family: Gilroy;\n      margin-bottom: 1rem;\n      font-size: 0.9em;\n      color: #842029;\n      background-color: #f8d7da;\n      border: 1px solid #f5c2c7;\n      padding: 0.5rem;\n      border-radius: 5px;\n      max-width: 85%;\n    `;\n_c6 = ErrorWrapper;\n\nfunction Login() {\n  _s();\n\n  const [errorString, setErrorString] = useState(\"\");\n\n  function verifyUserValidity(response) {\n    const userObject = jwtDecode(response.credential);\n    const userMail = userObject.email;\n    const userDomain = userMail.split(\"@\")[1];\n\n    if (userDomain !== (\"leonafricain.ma\" || \"elbilia.ma\")) {\n      setErrorString(\"Veuillez utiliser votre adresse mail professionnelle\");\n      document.getElementById(\"error-wrapper\").style.display = \"block\";\n    } else {\n      setErrorString(\"\");\n      document.getElementById(\"error-wrapper\").style.display = \"none\";\n    }\n  }\n\n  const google = window.google;\n  useEffect(() => {\n    /*global google*/\n    google.accounts.id.initialize({\n      client_id: \"518591411336-6r7hes5r15e658cieinangeh7f39ctsb.apps.googleusercontent.com\",\n      callback: verifyUserValidity\n    });\n    google.accounts.id.renderButton(document.getElementById(\"signInDiv\"), {\n      theme: \"outline\",\n      size: \"large\"\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(PictureContainer, {\n      children: /*#__PURE__*/_jsxDEV(LoginPicture, {\n        src: homeIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoginContainer, {\n      children: [/*#__PURE__*/_jsxDEV(LoginTitle, {\n        children: \"Connectez vous en utilisant Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ErrorWrapper, {\n        id: \"error-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-exclamation-triangle\",\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), errorString]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"signInDiv\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"jhjvuESVylIyBQE+jd2AX1ETIM0=\");\n\n_c7 = Login;\nexport default Login;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"PictureContainer\");\n$RefreshReg$(_c3, \"LoginPicture\");\n$RefreshReg$(_c4, \"LoginContainer\");\n$RefreshReg$(_c5, \"LoginTitle\");\n$RefreshReg$(_c6, \"ErrorWrapper\");\n$RefreshReg$(_c7, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","styled","homeIcon","jwtDecode","Wrapper","div","PictureContainer","LoginPicture","img","LoginContainer","LoginTitle","h1","ErrorWrapper","Login","errorString","setErrorString","verifyUserValidity","response","userObject","credential","userMail","email","userDomain","split","document","getElementById","style","display","google","window","accounts","id","initialize","client_id","callback","renderButton","theme","size"],"sources":["/Users/mimoun/WebstormProjects/leontools-frontend/src/apps/Login.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport styled from \"styled-components\";\nimport homeIcon from '../assets/icon_home.png'\nimport 'bootstrap-icons/font/bootstrap-icons.css'\nimport jwtDecode from \"jwt-decode\";\n\nconst Wrapper = styled.div`\n      display: flex;\n      height: 100%;\n      width: 100%;\n      @media screen and (max-width: 767px) {\n        flex-direction: column;\n      }\n    `;\n\nconst PictureContainer = styled.div`\n      position: relative;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: #D2E5DC;\n      height: 100%;\n      width: 65%;\n      border-bottom-right-radius: 12px;\n      border-top-right-radius: 12px;\n      @media screen and (max-width: 767px) {\n        height: 65%;\n        width: 100%;\n        border-bottom-right-radius: 12px;\n        border-bottom-left-radius: 12px;\n        border-top-right-radius: 0px;\n      }\n    `;\n\nconst LoginPicture = styled.img`\n      position: absolute;\n      object-fit: cover;\n      max-width: 85%;\n      max-height: 100%;\n      margin: 0;\n    `;\n\nconst LoginContainer = styled.div`\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      width: 35%;\n      justify-content: center;\n      align-items: center;\n      @media screen and (max-width: 767px) {\n        height: 35%;\n        width: 100%;\n      }\n    `;\n\nconst LoginTitle = styled.h1`\n      font-family: Gilroy;\n      font-weight: bold;\n      font-size: 1.25em;\n      color: #0A6466;\n    `;\n\nconst ErrorWrapper = styled.div`\n      display: none;\n      font-family: Gilroy;\n      margin-bottom: 1rem;\n      font-size: 0.9em;\n      color: #842029;\n      background-color: #f8d7da;\n      border: 1px solid #f5c2c7;\n      padding: 0.5rem;\n      border-radius: 5px;\n      max-width: 85%;\n    `;\n\nfunction Login() {\n\n    const [errorString, setErrorString] = useState(\"\")\n\n    function verifyUserValidity(response){\n        const userObject = jwtDecode(response.credential);\n        const userMail = userObject.email;\n        const userDomain = userMail.split(\"@\")[1];\n        if (userDomain !== (\"leonafricain.ma\" || \"elbilia.ma\")){\n            setErrorString(\"Veuillez utiliser votre adresse mail professionnelle\");\n            document.getElementById(\"error-wrapper\").style.display = \"block\";\n        }\n        else{\n            setErrorString(\"\");\n            document.getElementById(\"error-wrapper\").style.display = \"none\";\n        }\n    }\n    const google = window.google;\n    useEffect(() => {\n        /*global google*/\n        google.accounts.id.initialize({\n            client_id: \"518591411336-6r7hes5r15e658cieinangeh7f39ctsb.apps.googleusercontent.com\",\n            callback: verifyUserValidity\n        });\n        google.accounts.id.renderButton(\n            document.getElementById(\"signInDiv\"),\n            {theme:\"outline\", size:\"large\"}\n        );\n    },[]);\n\n    return (\n        <Wrapper>\n            <PictureContainer>\n                <LoginPicture src={homeIcon}></LoginPicture>\n            </PictureContainer>\n\n            <LoginContainer>\n                <LoginTitle>Connectez vous en utilisant Google</LoginTitle>\n                <ErrorWrapper id=\"error-wrapper\">\n                    <i className=\"bi bi-exclamation-triangle\"> </i>\n                    {errorString}\n                </ErrorWrapper>\n                <div id=\"signInDiv\"></div>\n            </LoginContainer>\n        </Wrapper>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}